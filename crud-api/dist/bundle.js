(()=>{var e={574:(e,s,t)=>{var r=t(140),a=t(252),n=t(928),o=t(898),u=t(96);t(818).config();var i=t(4),d=t(36),g=a();g.set("views",n.join(__dirname,"views")),g.set("view engine","ejs"),g.use(u("dev")),g.use(a.json()),g.use(a.urlencoded({extended:!1})),g.use(o()),g.use(a.static(n.join(__dirname,"public"))),g.use("/",i),g.use("/api/users",d),g.use((function(e,s,t){t(r(404))})),g.use((function(e,s,t,r){t.locals.message=e.message,t.locals.error="development"===s.app.get("env")?e:{},t.status(e.status||500),t.render("error")})),e.exports=g},175:(e,s,t)=>{var r=t(874).createConnection({host:process.env.HOST,user:process.env.USER,password:process.env.PASSWORD,database:process.env.DB_NAME});r.connect((function(e){e?console.log("error connecting database"):console.log("database is connected")})),e.exports={getAllUsers:(e,s)=>{r.query("SELECT * FROM tbl_users",((e,t)=>{e?s.send(JSON.stringify({status:500,flag:0,message:"Error",data:e})):t&&t.length>0?(count=t.length,console.log(t),s.send(JSON.stringify({status:200,flag:1,message:"User Fetch",data:t}))):s.send(JSON.stringify({status:200,flag:0,message:"No Recoreds Found"}))}))},getUserById:(e,s)=>{const t=e.params.userId;r.query("SELECT * FROM tbl_users WHERE user_id = ?",[t],((e,t)=>{e?s.send(JSON.stringify({status:500,flag:0,message:"Error",data:e})):(console.log(t),0!==Object.keys(t).length?s.send(JSON.stringify({status:200,flag:1,message:"User Fetch",data:t})):s.send(JSON.stringify({status:200,flag:0,message:"User not found"})))}))},createUser:(e,s)=>{const{v4:a}=t(903),n=a();console.log("Unique identifier:",n);const{username:o,age:u,hobbies:i}=e.body;r.query("INSERT INTO tbl_users (user_id, username, age, hobbies) VALUES (?, ?, ?, ?)",[n,o,u,JSON.stringify(i)],((e,t)=>{e?s.send(JSON.stringify({status:500,flag:0,message:"Error",data:e})):s.send(JSON.stringify({status:200,flag:1,message:"User Added",data:{id:t.insertId,username:o,age:u,hobbies:i}}))}))},updateUser:(e,s)=>{const t=e.params.userId,{username:a,age:n,hobbies:o}=e.body;r.query("SELECT * FROM tbl_users WHERE user_id = ?",[t],((e,u)=>{e?s.send(JSON.stringify({status:500,flag:0,message:"Error",data:e})):(console.log(u),0!==Object.keys(u).length?r.query("UPDATE tbl_users SET username = ?, age = ?, hobbies = ? WHERE user_id = ?",[a,n,JSON.stringify(o),t],((e,r)=>{e?s.send(JSON.stringify({status:500,flag:0,message:"Error",data:e})):s.send(JSON.stringify({status:200,flag:1,message:"User Updated",data:{id:t,username:a,age:n,hobbies:o}}))})):s.send(JSON.stringify({status:200,flag:0,message:"User not found"})))}))},deleteUser:(e,s)=>{const t=e.params.userId;r.query("DELETE FROM tbl_users WHERE user_id = ?",[t],((e,t)=>{e?s.status(500).send(JSON.stringify({status:500,flag:0,message:"Error",Data:e})):t&&t.affectedRows>0?s.status(200).send(JSON.stringify({status:200,flag:1,message:"User deleted",affectedRows:t.affectedRows})):s.status(200).send(JSON.stringify({status:200,flag:0,message:"User not found"}))}))}}},4:(e,s,t)=>{var r=t(252).Router();r.get("/",(function(e,s,t){s.render("index",{title:"Express"})})),e.exports=r},36:(e,s,t)=>{var r=t(252).Router();const{getAllUsers:a,getUserById:n,createUser:o,updateUser:u,deleteUser:i}=t(175);r.get("/",a),r.get("/:userId",n),r.post("/",o),r.put("/:userId",u),r.delete("/:userId",i),e.exports=r},898:e=>{"use strict";e.exports=require("cookie-parser")},818:e=>{"use strict";e.exports=require("dotenv")},252:e=>{"use strict";e.exports=require("express")},140:e=>{"use strict";e.exports=require("http-errors")},96:e=>{"use strict";e.exports=require("morgan")},874:e=>{"use strict";e.exports=require("mysql")},903:e=>{"use strict";e.exports=require("uuid")},928:e=>{"use strict";e.exports=require("path")}},s={};!function t(r){var a=s[r];if(void 0!==a)return a.exports;var n=s[r]={exports:{}};return e[r](n,n.exports,t),n.exports}(574)})();